(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[563],{4532:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts/[post-id]",function(){return s(9074)}])},9074:function(e,t,s){"use strict";s.r(t);var n=s(5893),i=s(7294),o=s(1163);let l=()=>{let e=(0,o.useRouter)(),t=e.query["post-id"],[s,l]=(0,i.useState)({}),[c,d]=(0,i.useState)(!0),[r,u]=(0,i.useState)(!1),[a,h]=(0,i.useState)(""),[p,j]=(0,i.useState)(""),f=(0,i.useRef)(""),x=(0,i.useRef)(""),b=async e=>{let t=await fetch("https://jsonplaceholder.typicode.com/posts/".concat(e)),s=await t.json();l(s),h(s.title),j(s.body)},y=()=>{fetch("https://jsonplaceholder.typicode.com/posts/".concat(t),{method:"DELETE"}),e.push("/")},m=()=>{u(!r)},_=()=>{let e=f.current.value,n=x.current.value;fetch("https://jsonplaceholder.typicode.com/posts/".concat(t),{method:"PUT",body:JSON.stringify({id:t,title:e,body:n,userId:s.userId}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(t=>{h(e),j(n)}),u(!1)};return((0,i.useEffect)(()=>{t&&(b(t),d(!1))},[t]),c)?(0,n.jsx)(n.Fragment,{children:"Loading..."}):r?(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"title",children:"Title:"}),(0,n.jsx)("input",{name:"title",ref:f,defaultValue:a,placeholder:"Add title here",type:"text"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{htmlFor:"body",children:"Body:"}),(0,n.jsx)("div",{children:(0,n.jsx)("textarea",{name:"body",ref:x,defaultValue:p,id:"",cols:"30",rows:"10"})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{onClick:m,children:"Cancel"}),(0,n.jsx)("button",{onClick:_,children:"Submit"})]})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h1",{children:a}),(0,n.jsx)("p",{children:p}),(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{onClick:m,children:"Edit"}),(0,n.jsx)("button",{onClick:y,children:"Delete"})]})]})};t.default=l},1163:function(e,t,s){e.exports=s(880)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=4532)}),_N_E=e.O()}]);