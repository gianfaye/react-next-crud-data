(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[406],{6598:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/[user-id]",function(){return n(8180)}])},8180:function(e,t,n){"use strict";n.r(t);var o=n(5893),s=n(1163),i=n(7294),r=n(7160),c=n.n(r);let d=()=>{let e=(0,s.useRouter)(),t=e.query["user-id"],[n,r]=(0,i.useState)({}),[d,l]=(0,i.useState)([]),[a,h]=(0,i.useState)(!0),[_,u]=(0,i.useState)(!1),[p,j]=(0,i.useState)(""),[m,x]=(0,i.useState)(""),f=async e=>{let t=await fetch("https://jsonplaceholder.typicode.com/users/".concat(e)),n=await t.json();r(n)},b=async e=>{let t=await fetch("https://jsonplaceholder.typicode.com/posts?userId=".concat(e)),n=await t.json(),o=n.sort((e,t)=>e.id<t.id?1:-1);l(o)},y=()=>{u(!_)},w=e=>{e.preventDefault();let t=e.target.name,n=e.target.value;"title"===t&&j(n),"body"===t&&x(n)},g=()=>{t&&fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify({title:p,body:m,userId:t}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then(e=>e.json()).then(e=>console.log(e))},v=t=>{e.push("/posts/".concat(t))};return((0,i.useEffect)(()=>{t&&(f(t),b(t),h(!1))},[t]),a)?(0,o.jsx)(o.Fragment,{children:"Loading..."}):(0,o.jsxs)("div",{className:c().container,children:[(0,o.jsx)("div",{children:(0,o.jsxs)("h1",{children:[" Posts by ",n.name,":"]})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("button",{onClick:y,children:"Create a Post"}),_&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"title",children:"Title:"}),(0,o.jsx)("input",{name:"title",placeholder:"Add title here",type:"text",onChange:e=>w(e)})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"body",children:"Body:"}),(0,o.jsx)("div",{children:(0,o.jsx)("textarea",{name:"body",id:"",cols:"30",rows:"10",onChange:e=>w(e)})})]}),(0,o.jsx)("div",{children:(0,o.jsx)("button",{onClick:g,children:"Submit"})})]})]}),d.map(e=>{let{title:t,body:n,id:s}=e;return(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{children:t}),(0,o.jsx)("button",{onClick:()=>v(s),children:"View Post"})]},s)})]})};t.default=d},7160:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}},1163:function(e,t,n){e.exports=n(880)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=6598)}),_N_E=e.O()}]);